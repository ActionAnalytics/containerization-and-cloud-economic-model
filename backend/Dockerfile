FROM node:lts-alpine3.12

ENV PORT="${PORT:-3000}"
ENV CMNSRV_CLIENTID="${CMNSRV_CLIENTID}:-CEM_SERVICE_CLIENT"
ENV CMNSRV_CLIENTSECRET="${CMNSRV_CLIENTSECRET}"

USER root
WORKDIR /app
COPY . .
RUN npm install
EXPOSE "${PORT}"
CMD npm run dev
